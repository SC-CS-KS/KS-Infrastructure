# [QLExpress](https://github.com/alibaba/QLExpress)

由阿里的电商业务规则、表达式（布尔组合）、特殊数学公式计算（高精度）、语法分析、脚本二次定制等
强需求而设计的一门动态脚本引擎解析工具。 
在阿里集团有很强的影响力，同时为了自身不断优化、发扬开源贡献精神，于2012年开源。

QLExpress脚本引擎被广泛应用在阿里的电商业务场景，具有以下的一些特性:
1、线程安全，引擎运算过程中的产生的临时变量都是threadlocal类型。
2、高效执行，比较耗时的脚本编译过程可以缓存在本地机器，运行时的临时变量创建采用了缓冲池的技术，和groovy性能相当。
3、弱类型脚本语言，和groovy，javascript语法类似，虽然比强类型脚本语言要慢一些，但是使业务的灵活度大大增强。
4、安全控制,可以通过设置相关运行参数，预防死循环、高危系统api调用等情况。
5、代码精简，依赖最小，250k的jar包适合所有java的运行环境，在android系统的低端pos机也得到广泛运用。

## vs Drools

qlExpress 规则引擎，更好理解的叫法应该是 脚本引擎。
基于编译原理提供了一个脚本解析、编译、执行的引擎。
脚本往往是一段复杂多变的业务规则代码文本，可以存储在内存、数据库中，
在引擎执行时传入任意的脚本立即进行编译执行并产生结果。

qlExpress 提供了脚本即时编译、执行的功能。

Drools规则引擎：Drools 是一个规则管理系统。
不仅包含核心的规则引擎，还提供了规则管理、工作流等一整套的解决方案。
Drools 的规则引擎执行基于 rete 算法的前向链式推导。
它会根据一组规则构建一个网络，执行时根据事实和模式向前传播到达决策。
同一组事实可能会产生多个决策，因此还有决策的优先级及冲突解决。

